
{% extends "layout.html" %}

{% block content %}

<div class="text-center mt-4 mb-4">
     <p style="font-size: 2vw;"><b>Comparisons Between All Scenarios</b></p>

     <!-- TABLE 1 -->
     <table class="table table-hover table-bordered table-info table-sm mt-4 mb-4" border="1" style="width: 80%; margin: auto; font-size: 1vw; border:2px solid #000000; border-collapse:collapse">
          <thead class="thead-dark">
               <tr>
                     <th scope="col" class="align-middle">#</th>
                     <th scope="col" class="align-middle">Parameter</th>
                     <th scope="col" class="align-middle">Baseline</th>
                     <th scope="col" class="align-middle">Scenario 1</th>
                     <th scope="col" class="align-middle">Scenario 2</th>
                     <th scope="col" class="align-middle">Scenario 3</th>
                     <th scope="col" class="align-middle">Scenario 4</th>
               </tr>
          </thead>
          <tbody>
               {% for i in range(table_1_labels|length) %}
                    <tr>
                          <td scope="row" class="align-middle">{{ i + 1 }}</td>
                          <th style="vertical-align : middle;text-align:center;">{{ table_1_labels[i] }}</th>
                          <td style="vertical-align : middle;text-align:center;">{{ table_1_baseline[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_1_scenario_1[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_1_scenario_2[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_1_scenario_3[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_1_scenario_4[i] }}</td>
                    </tr>
               {% endfor %}
          </tbody>
     </table>


     <!-- TABLE 2 -->
     <table class="table table-hover table-bordered table-info table-sm mt-4 mb-4" border="1" style="width: 80%; margin: auto; font-size: 1vw; border:2px solid #000000; border-collapse:collapse">
          <thead class="thead-dark">
               <tr>
                     <th scope="col" class="align-middle">#</th>
                     <th scope="col" class="align-middle">Parameter</th>
                     <th scope="col" class="align-middle">Baseline</th>
                     <th scope="col" class="align-middle">Scenario 1</th>
                     <th scope="col" class="align-middle">Scenario 2</th>
                     <th scope="col" class="align-middle">Scenario 3</th>
                     <th scope="col" class="align-middle">Scenario 4</th>
               </tr>
          </thead>
          <tbody>
               {% for i in range(table_2_labels|length) %}
                    <tr>
                          <td scope="row" class="align-middle">{{ i + 1 }}</td>
                          <th style="vertical-align : middle;text-align:center;">{{ table_2_labels[i] }}</th>
                          <td style="vertical-align : middle;text-align:center;">{{ table_2_baseline[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_2_scenario_1[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_2_scenario_2[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_2_scenario_3[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_2_scenario_4[i] }}</td>
                    </tr>
               {% endfor %}
          </tbody>
     </table>

     <!-- TABLE 3 -->
     <table class="table table-hover table-bordered table-info table-sm mt-4 mb-4" border="1" style="width: 80%; margin: auto; font-size: 1vw; border:2px solid #000000; border-collapse:collapse">
          <thead class="thead-dark">
               <tr>
                     <th scope="col" class="align-middle">#</th>
                     <th scope="col" class="align-middle">Parameter</th>
                     <th scope="col" class="align-middle">Baseline</th>
                     <th scope="col" class="align-middle">Scenario 1</th>
                     <th scope="col" class="align-middle">Scenario 2</th>
                     <th scope="col" class="align-middle">Scenario 3</th>
                     <th scope="col" class="align-middle">Scenario 4</th>
               </tr>
          </thead>
          <tbody>
               {% for i in range(table_3_labels|length) %}
                    <tr>
                          <td scope="row" class="align-middle">{{ i + 1 }}</td>
                          <th style="vertical-align : middle;text-align:center;">{{ table_3_labels[i] }}</th>
                          <td style="vertical-align : middle;text-align:center;">{{ table_3_baseline[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_3_scenario_1[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_3_scenario_2[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_3_scenario_3[i] }}</td>
                          <td style="vertical-align : middle;text-align:center;">{{ table_3_scenario_4[i] }}</td>
                    </tr>
               {% endfor %}
          </tbody>
     </table>
</div>


<!-- GRAPHS SECTION -->

<div class="mt-4 mb-4" style="width: 70%; margin: auto;">
     <canvas id="chart1"></canvas>
</div>

<div class="mt-4 mb-4" style="width: 70%; margin: auto;">
     <canvas id="chart2"></canvas>
</div>

<div class="mt-4 mb-4" style="width: 70%; margin: auto;">
     <canvas id="chart3"></canvas>
</div>

<div class="mt-4 mb-4" style="width: 70%; margin: auto;">
     <canvas id="chart4"></canvas>
</div>

<div class="mt-4 mb-4" style="width: 70%; margin: auto;">
     <canvas id="chart5"></canvas>
</div>

<div class="mt-4 mb-4" style="width: 70%; margin: auto;">
     <canvas id="chart6"></canvas>
</div>

<div class="mt-4 mb-4" style="width: 70%; margin: auto;">
     <canvas id="chart7"></canvas>
</div>

<div class="mt-4 mb-4" style="width: 70%; margin: auto;">
     <canvas id="chart8"></canvas>
</div>

<!-- Javascript -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js" integrity="sha512-sW/w8s4RWTdFFSduOTGtk4isV1+190E/GghVffMA9XczdJ2MDzSzLEubKAs5h0wzgSJOQTRYyaz73L3d6RtJSg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://unpkg.com/chart.js-plugin-labels-dv/dist/chartjs-plugin-labels.min.js"></script>

<script>
     // Configurations
     // Chart.register.apply(null, Object.values(CHART).filter((chartClass) => (chartClass.id)));
     Chart.defaults.font.size = 16;
     Chart.defaults.font.family = 'Arial';

     // First let's load all the data that we will probably need for our graphs

     // Labels
     table_1_labels = {{ table_1_labels_js|safe }}
     table_2_labels = {{ table_2_labels_js|safe }}
     table_3_labels = {{ table_3_labels_js|safe }}

     // Data related to Baseline Scenario
     table_1_baseline = {{ table_1_baseline_js|safe }}
     table_2_baseline = {{ table_2_baseline_js|safe }}
     table_3_baseline = {{ table_3_baseline_js|safe }}

     // Data related to Scenario 1
     table_1_scenario_1 = {{ table_1_scenario_1_js|safe }}
     table_2_scenario_1 = {{ table_2_scenario_1_js|safe }}
     table_3_scenario_1 = {{ table_3_scenario_1_js|safe }}

     // Data related to Scenario 2
     table_1_scenario_2 = {{ table_1_scenario_2_js|safe }}
     table_2_scenario_2 = {{ table_2_scenario_2_js|safe }}
     table_3_scenario_2 = {{ table_3_scenario_2_js|safe }}

     // Data related to Scenario 3
     table_1_scenario_3 = {{ table_1_scenario_3_js|safe }}
     table_2_scenario_3 = {{ table_2_scenario_3_js|safe }}
     table_3_scenario_3 = {{ table_3_scenario_3_js|safe }}

     // Data related to Scenario 4
     table_1_scenario_4 = {{ table_1_scenario_4_js|safe }}
     table_2_scenario_4 = {{ table_2_scenario_4_js|safe }}
     table_3_scenario_4 = {{ table_3_scenario_4_js|safe }}


     // Chart 1
     const ctx1 = document.getElementById('chart1').getContext('2d');
     const chart1 = new Chart(ctx1, {
         type: 'bar',
         data: {
            labels: ["Scenario 1", "Scenario 2", "Scenario 3", "Scenario 4"],
            datasets: [{
                 label: "Green Water for NBS",
                 data: [table_2_scenario_1[10], table_2_scenario_2[10], table_2_scenario_3[10], table_2_scenario_4[10]],
                 backgroundColor: "#00ff00",
                 borderColor: "#00ff00",
                 borderWidth: 1,
                 order: 1
            },
            {
                label: "Potable Water for NBS",
                data: [table_2_scenario_1[9], table_2_scenario_2[9], table_2_scenario_3[9], table_2_scenario_4[9]],
                backgroundColor: "#0000ff",
                borderColor: "#0000ff",
                borderWidth: 1,
                order: 1
                // yAxisID: "rightAxis"
           },
           {
               label: "Site Water Autonomy for NBS (%)",
               data: [table_2_scenario_1[13], table_2_scenario_2[13], table_2_scenario_3[13], table_2_scenario_4[13]],
               // backgroundColor: "#0000ff",
               borderColor: "#000000",
               borderWidth: 1,
               type: 'line',
               pointStyle: 'triangle',
               pointRadius: 3,
               order: 0,
               yAxisID: "rightAxis"
           }]
         },
         options: {
              plugins: {
                  legend: {
                      display: true,
                      position: "top"
                 },
                 title: {
                      display: false,
                      text: "Chart Title",
                      font: {size: 26}
                 },
                 labels: {
                      fontSize: 0
                },
                tooltip: {
                      callbacks: {
                           title: function(context) {
                                return context[0].label
                           },
                           label: function(context) {
                             return `${context.raw.toFixed(2)}`
                        }
                      }
                    }
               },
              responsive: true,
              scales: {
                 y: {
                     display: true,
                     stacked: true,
                     grid: {display: true},
                     min:0,
                     title: {
                          display: true,
                          text: "Total NBS Demand (m3)",
                     }
                },
                rightAxis: {
                     display: true,
                     position: "right",
                     grid: {display: false},
                     min: 0,
                     max: 100,
                     title: {
                          display: true,
                          text: "Site Water Autonomy for NBS (%) - EI-45 (ENV)"
                     }
                },
                x: {
                    display: true,
                    stacked: true,
                    grid: {display: false},
                    title: {
                         display: true,
                         text: "Scenario",
                    }
                }
            }
        }
     });


     // Chart 2
     const ctx2 = document.getElementById('chart2').getContext('2d');
     const chart2 = new Chart(ctx2, {
         type: 'bar',
         data: {
            labels: ["Baseline", "Scenario 1", "Scenario 2", "Scenario 3", "Scenario 4"],
            datasets: [{
                 label: "Total Potable Water Consumption (m3)",
                 data: [table_3_baseline[0], table_3_scenario_1[0], table_3_scenario_2[0], table_3_scenario_3[0], table_3_scenario_4[0]],
                 backgroundColor: "#59bfff",
                 borderColor: "#59bfff",
                 borderWidth: 1,
                 order: 1
            },
            {
                label: "Rainwater for NBS (m3)",
                data: [0, table_2_scenario_1[2], table_2_scenario_2[2], table_2_scenario_3[2], table_2_scenario_4[2]],
                backgroundColor: "#0000ff",
                borderColor: "#0000ff",
                borderWidth: 1,
                order: 1
           },
           {
               label: "Greywater for NBS (m3)",
               data: [0, table_2_scenario_1[7], table_2_scenario_2[7], table_2_scenario_3[7], table_2_scenario_4[7]],
               backgroundColor: "#bbbbbb",
               borderColor: "#bbbbbb",
               borderWidth: 1,
               order: 1
          },
           {
               label: "Water Reuse (%)",
               data: [table_3_baseline[2], table_3_scenario_1[2], table_3_scenario_2[2], table_3_scenario_3[2], table_3_scenario_4[2]],
               // backgroundColor: "#0000ff",
               borderColor: "#FFFF00",
               borderWidth: 2,
               type: 'line',
               pointStyle: 'triangle',
               pointRadius: 3,
               order: 0,
               yAxisID: "rightAxis"
           }]
         },
         options: {
              plugins: {
                  legend: {
                      display: true,
                      position: "top"
                 },
                 title: {
                      display: false,
                      text: "Chart Title",
                      font: {size: 26}
                 },
                 labels: {
                      fontSize: 0
                },
                tooltip: {
                      callbacks: {
                           title: function(context) {
                                return context[0].label
                           },
                           label: function(context) {
                             return `${context.raw.toFixed(2)}`
                        }
                      }
                    }
               },
              responsive: true,
              scales: {
                 y: {
                     display: true,
                     stacked: true,
                     grid: {display: true},
                     min:0,
                     title: {
                          display: true,
                          text: "Total annual water consumption (m3)",
                     }
                },
                rightAxis: {
                     display: true,
                     position: "right",
                     grid: {display: false},
                     min: 0,
                     max: 100,
                     title: {
                          display: true,
                          text: "Water Reuse (%) - EI-46 (ENV)"
                     }
                },
                x: {
                    display: true,
                    stacked: true,
                    grid: {display: false},
                    title: {
                         display: true,
                         text: "Scenario",
                    }
                }
            }
        }
     });


     // Chart 3
     const ctx3 = document.getElementById('chart3').getContext('2d');
     const chart3 = new Chart(ctx3, {
         type: 'bar',
         data: {
            labels: ["Baseline", "Scenario 1", "Scenario 2", "Scenario 3", "Scenario 4"],
            datasets: [{
                 label: "Impervious Surfaces (m2)",
                 data: [table_1_baseline[3], table_1_scenario_1[3], table_1_scenario_2[3], table_1_scenario_3[3], table_1_scenario_4[3]],
                 backgroundColor: "#FFFDD0",
                 borderColor: "#FFFDD0",
                 borderWidth: 1,
                 order: 1
            },
           {
               label: "Runoff Coefficient (%)",
               data: [table_3_baseline[7], table_3_scenario_1[7], table_3_scenario_2[7], table_3_scenario_3[7], table_3_scenario_4[7]],
               // backgroundColor: "#0000ff",
               borderColor: "#555555",
               borderWidth: 1,
               type: 'line',
               pointStyle: 'triangle',
               pointRadius: 3,
               order: 0,
               yAxisID: "rightAxis"
           }]
         },
         options: {
              plugins: {
                  legend: {
                      display: true,
                      position: "top"
                 },
                 title: {
                      display: false,
                      text: "Chart Title",
                      font: {size: 26}
                 },
                 labels: {
                      fontSize: 0
                },
                tooltip: {
                      callbacks: {
                           title: function(context) {
                                return context[0].label
                           },
                           label: function(context) {
                             return `${context.raw.toFixed(2)}`
                        }
                      }
                    }
               },
              responsive: true,
              scales: {
                 y: {
                     display: true,
                     grid: {display: true},
                     min:0,
                     title: {
                          display: true,
                          text: "Impervious surfaces (m2)",
                     }
                },
                rightAxis: {
                     display: true,
                     position: "right",
                     grid: {display: false},
                     min: 0,
                     max: 100,
                     title: {
                          display: true,
                          text: "Runoff coefficient (%) - EI-50 (ENV)"
                     }
                },
                x: {
                    display: true,
                    stacked: true,
                    grid: {display: false},
                    title: {
                         display: true,
                         text: "Scenario",
                    }
                }
            }
        }
     });

     // Chart 4
     const ctx4 = document.getElementById('chart4').getContext('2d');
     const chart4 = new Chart(ctx4, {
         type: 'bar',
         data: {
            labels: ["Baseline", "Scenario 1", "Scenario 2", "Scenario 3", "Scenario 4"],
            datasets: [{
                 label: "Site NBS Water Autonomy (%)",
                 data: [table_2_baseline[13], table_2_scenario_1[13], table_2_scenario_2[13], table_2_scenario_3[13], table_2_scenario_4[13]],
                 backgroundColor: "#bbbbbb",
                 borderColor: "#bbbbbb",
                 borderWidth: 1,
            },
            {
                label: "Water Reuse (%)",
                data: [table_3_baseline[2], table_3_scenario_1[2], table_3_scenario_2[2], table_3_scenario_3[2], table_3_scenario_4[2]],
                backgroundColor: "#ff6d0a",
                borderColor: "#ff6d0a",
                borderWidth: 1,
           },
           {
               label: "Potable Water Savings (%)",
               data: [table_3_baseline[4], table_3_scenario_1[4], table_3_scenario_2[4], table_3_scenario_3[4], table_3_scenario_4[4]],
               backgroundColor: "#59bfff",
               borderColor: "#59bfff",
               borderWidth: 1,
          }]
         },
         options: {
              plugins: {
                  legend: {
                      display: true,
                      position: "top"
                 },
                 title: {
                      display: false,
                      text: "Chart Title",
                      font: {size: 26}
                 },
                 labels: {
                      fontSize: 0
                },
                tooltip: {
                      callbacks: {
                           title: function(context) {
                                return context[0].label
                           },
                           label: function(context) {
                             return `${context.raw.toFixed(2)}`
                        }
                      }
                    }
               },
              responsive: true,
              scales: {
                 y: {
                     display: true,
                     grid: {display: true},
                     title: {
                          display: false,
                          text: "Total annual water consumption (m3)",
                     }
                },
                x: {
                    display: true,
                    grid: {display: false},
                    title: {
                         display: true,
                         text: "Scenario",
                    }
                }
            }
        }
     });


     // Chart 5
     const ctx5 = document.getElementById('chart5').getContext('2d');
     const chart5 = new Chart(ctx5, {
         type: 'bar',
         data: {
            labels: ["Baseline", "Scenario 1", "Scenario 2", "Scenario 3", "Scenario 4"],
            datasets: [{
                 label: "Runoff Coefficient (%)",
                 data: [table_3_baseline[7], table_3_scenario_1[7], table_3_scenario_2[7], table_3_scenario_3[7], table_3_scenario_4[7]],
                 backgroundColor: "#ff6d0a",
                 borderColor: "#ff6d0a",
                 borderWidth: 1,
            },
            {
                label: "Stormwater treated/managed locally (%)",
                data: [table_3_baseline[9], table_3_scenario_1[9], table_3_scenario_2[9], table_3_scenario_3[9], table_3_scenario_4[9]],
                backgroundColor: "#ffff00",
                borderColor: "#ffff00",
                borderWidth: 1,
           }]
         },
         options: {
              plugins: {
                  legend: {
                      display: true,
                      position: "top"
                 },
                 title: {
                      display: false,
                      text: "Chart Title",
                      font: {size: 26}
                 },
                 labels: {
                      fontSize: 0
                },
                tooltip: {
                      callbacks: {
                           title: function(context) {
                                return context[0].label
                           },
                           label: function(context) {
                             return `${context.raw.toFixed(2)}`
                        }
                      }
                    }
               },
              responsive: true,
              scales: {
                 y: {
                     display: true,
                     grid: {display: true},
                     min: 0,
                     max: 100,
                     title: {
                          display: false,
                          text: "Total annual water consumption (m3)",
                     }
                },
                x: {
                    display: true,
                    grid: {display: false},
                    title: {
                         display: true,
                         text: "Scenario",
                    }
                }
            }
        }
     });


     // Chart 6
     const ctx6 = document.getElementById('chart6').getContext('2d');
     const chart6 = new Chart(ctx6, {
         type: 'bar',
         data: {
            labels: ["Baseline", "Scenario 1", "Scenario 2", "Scenario 3", "Scenario 4"],
            datasets: [{
                 label: "Wastewater treated/managed locally (%)",
                 data: [table_3_baseline[12], table_3_scenario_1[12], table_3_scenario_2[12], table_3_scenario_3[12], table_3_scenario_4[12]],
                 backgroundColor: "#ffff00",
                 borderColor: "#ffff00",
                 borderWidth: 1,
            }]
         },
         options: {
              plugins: {
                  legend: {
                      display: true,
                      position: "top"
                 },
                 title: {
                      display: false,
                      text: "Chart Title",
                      font: {size: 26}
                 },
                 labels: {
                      fontSize: 0
                },
                tooltip: {
                      callbacks: {
                           title: function(context) {
                                return context[0].label
                           },
                           label: function(context) {
                             return `${context.raw.toFixed(2)}`
                        }
                      }
                    }
               },
              responsive: true,
              scales: {
                 y: {
                     display: true,
                     grid: {display: true},
                     min: 0,
                     max: 100,
                     title: {
                          display: false,
                          text: "Total annual water consumption (m3)",
                     }
                },
                x: {
                    display: true,
                    grid: {display: false},
                    title: {
                         display: true,
                         text: "Scenario",
                    }
                }
            }
        }
     });

     // Chart 7
     const ctx7 = document.getElementById('chart7').getContext('2d');
     const chart7 = new Chart(ctx7, {
         type: 'bar',
         data: {
            labels: ["Baseline", "Scenario 1", "Scenario 2", "Scenario 3", "Scenario 4"],
            datasets: [{
                 label: "Impervious Surfaces (%)",
                 data: [table_1_baseline[6], table_1_scenario_1[6], table_1_scenario_2[6], table_1_scenario_3[6], table_1_scenario_4[6]],
                 backgroundColor: "#ff6d0a",
                 borderColor: "#ff6d0a",
                 borderWidth: 1,
            },
            {
                label: "Green Surfaces/Spaces (%)",
                data: [table_1_baseline[14], table_1_scenario_1[14], table_1_scenario_2[14], table_1_scenario_3[14], table_1_scenario_4[14]],
                backgroundColor: "#ffff00",
                borderColor: "#ffff00",
                borderWidth: 1,
           }]
         },
         options: {
              plugins: {
                  legend: {
                      display: true,
                      position: "top"
                 },
                 title: {
                      display: false,
                      text: "Chart Title",
                      font: {size: 26}
                 },
                 labels: {
                      fontSize: 0
                },
                tooltip: {
                      callbacks: {
                           title: function(context) {
                                return context[0].label
                           },
                           label: function(context) {
                             return `${context.raw.toFixed(2)}`
                        }
                      }
                    }
               },
              responsive: true,
              scales: {
                 y: {
                     display: true,
                     grid: {display: true},
                     min: 0,
                     max: 100,
                     title: {
                          display: false,
                          text: "Total annual water consumption (m3)",
                     }
                },
                x: {
                    display: true,
                    grid: {display: false},
                    title: {
                         display: true,
                         text: "Scenario",
                    }
                }
            }
        }
     });

     // Chart 8
     const ctx8 = document.getElementById('chart8').getContext('2d');
     const chart8 = new Chart(ctx8, {
         type: 'bar',
         data: {
            labels: ["Baseline", "Scenario 1", "Scenario 2", "Scenario 3", "Scenario 4"],
            datasets: [{
                 label: "Wastewater treated/managed locally (%)",
                 data: [table_3_baseline[12], table_3_scenario_1[12], table_3_scenario_2[12], table_3_scenario_3[12], table_3_scenario_4[12]],
                 backgroundColor: "#ff6d0a",
                 borderColor: "#ff6d0a",
                 borderWidth: 1,
            },
            {
                label: "Stormwater treated/managed locally (%)",
                data: [table_3_baseline[9], table_3_scenario_1[9], table_3_scenario_2[9], table_3_scenario_3[9], table_3_scenario_4[9]],
                backgroundColor: "#ffff00",
                borderColor: "#ffff00",
                borderWidth: 1,
           }]
         },
         options: {
              plugins: {
                  legend: {
                      display: true,
                      position: "top"
                 },
                 title: {
                      display: false,
                      text: "Chart Title",
                      font: {size: 26}
                 },
                 labels: {
                      fontSize: 0
                },
                tooltip: {
                      callbacks: {
                           title: function(context) {
                                return context[0].label
                           },
                           label: function(context) {
                             return `${context.raw.toFixed(2)}`
                        }
                      }
                    }
               },
              responsive: true,
              scales: {
                 y: {
                     display: true,
                     grid: {display: true},
                     min: 0,
                     max: 100,
                     title: {
                          display: false,
                          text: "Total annual water consumption (m3)",
                     }
                },
                x: {
                    display: true,
                    grid: {display: false},
                    title: {
                         display: true,
                         text: "Scenario",
                    }
                }
            }
        }
     });

</script>

{% endblock content %}
